using System.Collections;
using System.Collections.Generic;
using UnityEngine;

public class WinScreen : MonoBehaviour
{
    private List<Racer> audiemce;
    private List<Racer> winners;

    public List<Transform> kartSpawns;
    public List<Transform> audienceSpawns;
    public List<Transform> winnerSpawns;

    private CurrentGameData gd;
    private KartMaker km;
    private SoundManager sm;

    public AudioClip music;

    public List<CameraPoint> clips;

    const string playerOneReplay = "t:0;s:0;d:0;z:0;e:0;p:-76.75 28.60375 -91.02;r:0 90 0;v:0 -1.7 0;a:0 0 0;i:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0;e:0;p:-76.68994 27.24063 -91.00276;r:1.601064 90.00397 0.4652419;v:0.01147909 -0.01212889 0.003271987;a:0.007654033 -0.0001620911 -0.006856425;t:0;s:0;d:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0;e:0;p:-76.67753 27.23902 -90.99152;r:1.618296 90.00396 0.664925;v:0.01203268 0.0002552604 0.004922242;a:0.00130895 -4.639518E-05 0.0007543924;t:0;s:0;d:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0;c:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>t:1;z:0>z:0>z:0>z:0>z:0>z:0;e:28;p:-63.29454 27.87683 -90.94009;r:359.1083 88.43885 0.2650028;v:27.95081 3.917088 0.7095152;a:-0.03222087 -0.1058363 0.2381223;t:1;s:0;d:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>s:1;z:0>z:0>z:0>z:0>z:0>z:0>s:0;z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0;e:28;p:-36.12882 30.02043 -90.21012;r:358.1173 92.84986 0.1018831;v:27.90852 1.916769 -1.268653;a:-0.005846896 0.1685394 -0.02215429;t:1;s:0;d:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>s:-1;z:0>z:0>z:0>z:0>z:0>z:0>z:0>s:0;z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>s:-1;z:0>z:0>z:0>z:0>z:0>z:0>s:0;z:0>z:0>z:0;e:26.29934;p:-9.355844 32.09048 -90.95789;r:357.9649 82.6667 0.4048662;v:26.14073 1.846496 3.02091;a:0.02666018 -0.5295339 -0.006960685;t:1;s:0;d:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>s:1;z:0>z:0>z:0>z:0>z:0>z:0>z:0>s:0;z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>s:1;z:0>z:0>z:0>z:0>z:0>s:0;z:0;e:23.85693;p:14.57699 33.83148 -86.67553;r:358.0732 85.47839 0.7190764;v:23.76534 1.106737 2.202289;a:-0.02428503 0.5228394 -0.0348224;t:1;d:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>s:1;z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>s:0;z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0;e:22.3615;p:36.79658 35.00517 -89.15265;r:359.1584 104.8866 359.61;v:21.61008 2.634137 -5.71804;a:-0.00519745 0.0763068 0.07309871;t:1;s:0;d:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>s:1;z:0>z:0;e:21.44589;p:57.07273 37.73621 -94.89243;r:355.4077 106.007 358.6848;v:20.43719 2.993057 -5.860354;a:-0.009829657 0.07568259 0.05199628;t:1;s:1;d:0>s:0;z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>s:-1;z:0>z:0>z:0>z:0>z:0>z:0;e:20.88528;p:75.2253 42.52399 -100.9518;r:338.4878 109.1115 359.0492;v:18.25466 7.388513 -6.515566;a:0.1824153 -0.3129481 0.1570254;t:1;s:-1;d:0>s:0;z:0>z:0>z:0>z:0>d:1;z:0>z:0>z:0>d:0;z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0;e:20.79053;p:94.16231 44.97617 -106.2182;r:0.4596882 105.0373 359.989;v:18.7426 -5.276293 -5.034541;a:-0.03011656 -3.168511E-08 -0.1022388;t:1;s:0;d:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0;e:28;p:112.9356 33.80481 -111.2472;r:2.138721 105.0371 0.1986294;v:27.00488 -1.965358 -7.255942;a:0.02210546 -0.001225953 -0.06154096;t:1;s:0;d:0>z:0>z:0>s:-1;z:0>z:0>z:0>z:0>z:0>s:0;z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>s:-1;z:0>z:0>z:0>z:0>z:0>z:0;e:25.28219;p:138.6624 32.42708 -116.2499;r:4.732602 97.20911 0.6924779;v:25.17864 -0.7534091 -3.41648;a:-0.03804538 -0.3950484 0.01939742;t:1;s:-1;d:0>z:0>z:0>s:0;z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0;e:23.23416;p:162.1529 33.31006 -116.1051;r:0.1314684 87.09153 0.2330717;v:23.26301 2.679156 1.188136;a:-0.02044403 -0.01385286 0.1326995;t:1;s:0;d:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>s:-1;z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>s:0;z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0;e:21.9802;p:183.1248 36.89397 -112.4657;r:351.0698 71.28546 2.625446;v:20.32411 4.729652 6.912785;a:0.03638463 -0.09065641 0.06346642;t:1;s:0;d:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>s:-1;z:0>d:1>>>>>s:0>s:1>>>>>>>>>>e:21.21243;p:202.1607 40.71169 -104.574;r:353.575 56.84129 8.355265;v:17.71935 2.670161 11.2905;a:0.1834116 -0.6182743 -0.081222;t:1;s:1;d:1;z:-1>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>e:20.74234;p:215.1468 42.22368 -89.16175;r:0.148875 22.24223 3.195127;v:8.076941 0.8675155 19.11773;a:-0.03828393 -0.6165374 -0.2022771;t:1;s:1;d:1;z:-1>>>>>>>>>>>>>>>>>>>>>>>>>>d:0;z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0;e:28;p:217.0319 42.91547 -67.21421;r:0.3931819 354.7648 359.5042;v:-2.710789 1.693015 27.88829;a:-0.08069814 0.2534949 0.03471985;t:1;s:1;d:0>z:0>z:0>z:0>s:0;z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0;e:25.34906;p:217.7287 45.39485 -41.24564;r:357.2057 4.323685 1.232634;v:1.882272 1.729602 25.27124;a:0.02852191 0.01458866 0.002922811;t:1;s:0;d:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>s:-1;z:0>z:0>z:0>z:0;e:23.2751;p:219.5887 45.66077 -17.53704;r:1.813248 3.928198 0.915445;v:1.729421 -1.357895 23.23545;a:0.1649292 -0.2224347 0.0124703;t:1;s:-1;d:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>s:0;z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>s:-1;z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>s:0;z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0;e:22.00526;p:215.2351 42.88398 3.944853;r:10.64861 330.3699 359.044;v:-10.59347 -3.009243 19.20173;a:0.06114177 -0.4643407 -0.06344398;t:1;s:0;d:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>s:-1;z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>s:0;z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0;e:21.22777;p:202.3491 40.23321 20.33923;r:9.240256 311.5282 356.0363;v:-15.74792 -2.457767 14.1824;a:0.05308082 -0.1412966 -0.0727592;t:1;s:0;d:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>s:-1;z:0>z:0>z:0>z:0>z:0>z:0>s:0;z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0;e:20.75174;p:186.749 38.21248 33.46541;r:6.993303 304.439 351.5263;v:-16.98024 -0.4780409 12.22345;a:0.03283521 -0.1856406 -0.1800861;t:1;s:0;d:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0;e:20.46028;p:170.0527 37.77179 44.58373;r:3.764465 302.2192 349.7916;v:-17.23328 -0.7120755 11.08764;a:0.01498525 -0.005323599 0.006734624;t:1;s:0;d:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0;e:20.28181;p:153.1658 36.03717 55.16223;r:6.921524 301.6208 350.8712;v:-17.15759 -2.285486 10.67573;a:0.001200039 -0.01427909 0.07061574;t:1;s:0;d:0>z:0>s:-1;z:0>z:0>z:0>z:0>z:0>s:0;z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>s:1;z:0>z:0>z:0>z:0>z:0;e:20.17255;p:135.6311 33.23357 64.15556;r:10.36652 295.8651 353.1632;v:-17.92841 -3.970024 8.545475;a:-0.04834135 0.2414787 0.2114045;t:1;s:1;d:0>s:0;z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>s:-1;z:0>z:0>z:0;e:20.10565;p:118.6807 30.4731 73.84261;r:10.04277 300.5764 356.1561;v:-17.26502 -1.794862 10.45885;a:-0.1132995 -0.1443549 -0.09176934;t:1;s:-1;d:0>z:0>s:0;z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>s:-1;z:0>z:0>z:0>z:0>z:0>z:0>s:0;z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0;e:20.06469;p:101.2016 29.69455 82.46214;r:4.694242 290.6969 359.6921;v:-18.77568 -0.6822879 7.212465;a:-0.06657238 -0.2067122 -0.01625839;t:1;s:0;d:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>s:-1;z:0>z:0>z:0>z:0>s:0;z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>s:-1;z:0>z:0>z:0>z:0;e:20.03961;p:82.92121 31.6312 87.80189;r:356.7784 282.5867 0.3224763;v:-19.4847 0.9591247 4.482591;a:-0.03945322 -0.257006 0.04959438;t:1;s:-1;d:0>z:0>s:0;z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>s:1;z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0;e:20.02425;p:64.55353 35.10429 89.66959;r:342.6443 272.6086 0.356886;v:-18.98425 5.930538 0.6597074;a:0.08887576 0.3925683 -0.1978694;t:1;s:1;d:0>d:1;z:1>z:1>z:1>z:1>z:1>z:1>s:0;d:0;z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>s:-1;z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0;e:20.02193;p:45.78504 35.60861 93.81033;r:0.4570964 284.3882 0.07690851;v:-18.54938 -7.337959 4.765908;a:0.005698856 2.408277E-05 0.06934585;t:1;s:-1;d:0>z:0>z:0>z:0>s:0;z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>s:-1;z:0>z:0>z:0>z:0>z:0>z:0>s:0;z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>s:-1;z:0>z:0>z:0>z:0>z:0>z:0>s:0;z:0>z:0>z:0;e:26.2206;p:21.92801 34.83455 98.61878;r:357.0541 273.3575 358.8406;v:-26.2151 0.6432006 1.843584;a:-0.06293141 -0.4721884 0.0894966;t:1;s:0;d:0>z:0>z:0>z:0>z:0>z:0>z:0>s:1;z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>s:0;z:0>z:0>z:0>z:0>z:0>z:0",
        playerTwoReplay = "t:0;s:0;d:0;z:0;e:0;p:-71.41 28.64375 -91.02;r:0 90 0;v:0 -1.7 0;a:0 0 0;i:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0;e:0;p:-71.35066 27.30884 -91.00323;r:1.581873 90.00355 0.453712;v:0.0113247 -0.01283706 0.003183556;a:0.007647572 -0.0001634582 -0.006511022;t:0;s:0;d:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0;c:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0;e:26.6;p:-66.06404 27.49663 -90.9972;r:0.7377316 89.24543 0.433465;v:26.20729 3.256127 0.03821151;a:-0.05208124 -0.1625867 0.3365527;t:0;s:0;d:0>z:0>z:0>z:0>z:0>t:1;z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>s:1;z:0>z:0>z:0>z:0>z:0>z:0>s:0;z:0>z:0>z:0>z:0>z:0>z:0>z:0;e:28;p:-39.12888 29.8145 -90.17088;r:357.9911 92.03244 0.1111462;v:27.92139 1.927461 -0.826098;a:-0.00614462 0.2316148 -0.03180807;t:1;s:0;d:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>s:-1;z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0;e:27.32571;p:-12.00928 31.89691 -91.72549;r:357.9471 85.34483 0.2270155;v:27.30107 2.079372 1.57409;a:0.03806428 -0.9515142 0.004574331;t:1;s:-1;d:0>z:0>z:0>z:0>z:0>s:0;z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>s:1;z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>s:0;z:0>z:0;e:24.48535;p:12.03436 33.69168 -84.79871;r:357.7983 84.47767 1.223102;v:24.29761 1.838163 2.931573;a:-0.0343724 0.8980649 0.01283037;t:1;s:0;d:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>s:1;z:0>z:0>z:0>z:0>z:0>s:0;z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0;e:22.74627;p:34.80544 34.79748 -87.20688;r:359.3456 103.0828 359.8217;v:22.1814 1.092294 -5.121065;a:-0.01747395 0.06342866 -0.007472696;t:1;s:0;d:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0;e:21.68148;p:55.5679 37.4893 -92.32221;r:355.6071 103.923 359.0129;v:20.86216 3.061876 -5.203346;a:0.005436101 0.001339713 0.05266634;t:1;s:0;d:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>s:1;z:0>z:0>z:0>z:0>z:0>s:0;z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0;e:21.02953;p:74.27275 41.85677 -97.967;r:340.2471 110.3752 358.4459;v:18.29243 7.498965 -6.810527;a:0.08207172 0.01964987 0.2483036;t:1;s:0;d:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>d:1;z:0>z:0>z:0>z:0>z:0>z:0>z:0>d:0;z:0>z:0>z:0>z:0>z:0>z:0>s:-1;z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0;e:20.87422;p:92.72552 45.48018 -104.7707;r:359.7646 110.2621 359.9824;v:18.2949 -3.602944 -6.751719;a:-0.04040667 3.871369E-08 -0.1410807;t:1;s:-1;d:0>z:0>z:0>z:0>z:0>s:0;z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>s:-1;z:0>z:0>z:0>z:0;e:20.86329;p:110.4075 33.91054 -111.3135;r:1.595406 110.2638 0.1194267;v:19.93803 -1.666315 -6.453802;a:-0.0006320121 6.055317E-10 -0.002206683;t:1;s:-1;d:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>s:0;z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0;e:25.55477;p:136.2848 32.49379 -115.1978;r:5.339038 91.19061 0.4156007;v:25.70028 -0.767763 -0.5512426;a:-0.007040361 -0.04987964 0.02477151;t:1;s:0;d:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>s:-1;z:0>z:0>z:0>z:0>z:0>z:0>s:0;z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0;e:23.40105;p:159.9809 33.06181 -114.7276;r:0.3629536 84.03858 0.4772701;v:23.35308 2.777525 2.417567;a:-0.002568686 -0.08257069 0.1486346;t:1;s:0;d:0>z:0>z:0>z:0>z:0>s:1;z:0>z:0>z:0>z:0>z:0>z:0>s:0;z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>s:-1;z:0>z:0>z:0;e:22.08238;p:181.6196 36.54008 -113.7089;r:353.1395 89.93732 0.4688675;v:21.62612 4.990054 -0.02249721;a:0.01566842 -0.1248214 0.1335691;t:1;s:-1;d:0>z:0>z:0>z:0>z:0>s:0;z:0>z:0>z:0>z:0>z:0>z:0>z:0>s:-1;z:0>z:0>z:0>z:0>d:1>>>>>s:0>>s:1>>>>>>>>>>>>>>>>e:21.27499;p:201.1765 40.82251 -108.743;r:351.6003 56.9511 6.808927;v:17.81108 2.83669 11.20021;a:0.2266401 -0.6086344 -0.02642727;t:1;s:1;d:1;z:-1>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>e:20.78065;p:214.2099 42.00536 -93.20728;r:1.651827 22.19325 7.743244;v:7.943659 0.4915154 19.18723;a:-0.004568822 -0.6549131 -0.2473153;t:1;s:1;d:1;z:-1>>>>>>>>>>>>>>>>>>>>d:0;z:0>z:0>z:0>z:0>z:0>z:0>s:0;z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>s:1;z:0>z:0;e:28;p:216.7849 42.7252 -70.15176;r:0.9458716 357.9688 359.8117;v:-0.9877524 1.818781 28.02737;a:-0.05646915 0.003067633 -0.01305794;t:1;s:1;d:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>s:0;z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>s:-1;z:0>z:0>z:0>z:0>z:0>z:0;e:24.96021;p:220.5192 45.23767 -45.02123;r:356.6258 13.73027 0.3374579;v:6.102463 1.529595 24.19272;a:0.06132637 -0.3014717 -0.005097896;t:1;s:-1;d:0>s:0;z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>s:-1;z:0>d:1>>>e:23.03702;p:224.4753 46.00587 -21.91901;r:0.5687732 7.185486 0.6840894;v:3.129277 -0.8531278 22.86019;a:0.165364 -0.419622 -0.001948466;t:1;s:-1;d:1;z:-1>>>>>s:0>s:1>>>>>>>>>>>>>>>>>>>>>>d:0;z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0;e:21.85949;p:220.1253 43.85136 -0.6566893;r:9.205003 335.7125 2.134767;v:-8.931297 -4.083658 19.64177;a:0.1581363 0.1094387 0.2319321;t:1;s:1;d:0>z:0>z:0>z:0>s:0;z:0>z:0>z:0>z:0>z:0>z:0>z:0>s:-1;z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>s:0;z:0>z:0>z:0>z:0>z:0>z:0>z:0;e:21.13852;p:210.9121 41.14156 17.92311;r:9.23816 315.677 356.019;v:-14.46803 -2.551549 15.34147;a:-0.00721638 -0.5181283 -0.09112421;t:1;s:0;d:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>s:-1;z:0>z:0>z:0>z:0>z:0;e:20.69709;p:195.5936 38.08357 31.19728;r:9.94705 307.83 352.9097;v:-16.12426 -2.212375 13.00178;a:0.1305736 -0.2702196 -0.1952724;t:1;s:-1;d:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>s:0;z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>s:1;z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0;e:20.42682;p:177.3275 38.17423 38.35389;r:0.1047218 284.0707 348.3868;v:-19.8322 0.8015418 4.923231;a:-0.09122395 0.5924203 0.08704651;t:1;s:1;d:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>s:0;z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>s:-1;z:0>z:0>z:0;e:20.26133;p:162.3646 36.98176 50.41148;r:8.646063 328.6396 352.8973;v:-10.47044 -2.639189 17.22729;a:0.04223272 0.1454105 0.07405276;t:1;s:-1;d:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0;e:20.16001;p:148.0218 34.60577 63.13321;r:5.901679 284.4803 350.2473;v:-19.35717 -1.208469 5.758381;a:0.01129702 -0.9842947 -0.1761712;t:1;s:-1;d:0>z:0>z:0>z:0>z:0>z:0>s:0;z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>s:1;z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0;e:20.09797;p:128.3424 32.22862 64.02753;r:12.77708 283.3321 353.729;v:-19.46921 -3.380445 4.269417;a:-0.1525052 0.9538466 0.2586864;t:1;s:1;d:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>s:0;z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>s:-1;z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0;e:20.05999;p:113.0939 30.23927 75.45232;r:7.409361 314.6599 0.3082788;v:-14.14654 -1.050407 14.36553;a:-0.08378824 -0.5635223 -0.2758163;t:1;s:-1;d:0>z:0>z:0>z:0>s:0;z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>s:-1;z:0>z:0>z:0>z:0>z:0>z:0>z:0>s:0;z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0;e:20.03673;p:96.76493 29.8878 85.45827;r:359.3573 293.3869 1.439629;v:-18.45463 3.161665 7.868131;a:-0.3046346 0.02523284 -0.639332;t:1;s:0;d:0>z:0>z:0>z:0>z:0>s:-1;z:0>z:0>z:0>z:0>z:0>z:0>s:0;z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>s:-1;z:0>z:0>z:0>z:0>z:0>z:0>s:0;z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0;e:20.02249;p:78.44693 31.81599 91.1083;r:354.6599 278.2765 1.800774;v:-19.73949 1.204297 2.950927;a:0.1320428 -0.1467868 0.1432274;t:1;s:0;d:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>s:1;z:0>z:0>z:0>z:0>z:0>z:0>d:1;z:1>s:0;z:1>z:1>d:0;z:0>z:0>z:0>z:0>z:0>z:0;e:20.01429;p:60.23511 36.51518 93.13948;r:344.9307 281.2363 358.6303;v:-18.7203 4.750747 3.707557;a:0.1111124 0.02259414 0.993551;t:1;s:0;d:0>z:0>z:0>z:0>z:0>z:0>s:-1;z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>s:0;z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>s:-1;z:0>z:0>z:0;e:28;p:41.75175 33.15904 96.71328;r:1.572682 281.0425 0.1137032;v:-19.12741 0.2288914 4.309698;a:0.06671049 -0.07287601 -0.05775228;t:1;s:-1;d:0>z:0>z:0>z:0>s:0;z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>s:1;z:0>z:0>z:0>s:0;z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0;e:25.48533;p:15.677 34.96636 98.20124;r:358.4534 271.8003 359.0414;v:-25.54217 -0.002374619 0.7635763;a:-0.03605867 0.05303017 0.117383;t:1;s:0;d:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0",
        playerThreeReplay = "t:0;s:0;d:0;z:0;e:0;p:-66.03 28.60375 -91.02;r:0 90 0;v:0 -1.7 0;a:0 0 0;i:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>t:1;z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0;e:3.017081;p:-65.68457 27.61585 -91.02409;r:356.8391 90.01798 359.9396;v:2.764069 0.3469318 -0.001611448;a:0.00141236 0.0001461423 0.06633308;t:1;s:0;d:0>z:0>z:0>z:0>z:0>z:0>z:0;c:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0;e:28;p:-43.32957 29.52925 -91.02718;r:357.2958 90.01958 0.1038049;v:27.92249 1.852692 -0.007910735;a:0.004363899 0.0002922322 -0.04826099;t:1;s:0;d:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>s:-1;z:0>z:0>z:0;e:28;p:-16.08126 31.58472 -91.02927;r:357.917 89.69902 0.1834596;v:27.92574 2.124038 0.04681912;a:0.005019573 -0.1496351 -0.0002311427;t:1;s:-1;d:0>z:0>z:0>z:0>z:0>s:0;z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0;e:25.48533;p:9.962892 33.53781 -87.88641;r:358.0087 80.54433 0.7794326;v:25.13643 2.044943 4.198941;a:0.00574538 -0.01379907 0.009319332;t:1;s:0;d:0>z:0>z:0>s:1;z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>s:0;z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0;e:23.35854;p:33.35698 34.73293 -89.23357;r:359.5562 106.8022 359.7049;v:22.41176 1.057271 -6.693525;a:-0.01467876 0.1316284 -0.0064158;t:1;s:0;d:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0;e:22.05635;p:54.13091 37.32085 -96.09438;r:355.9223 108.516 358.4652;v:20.74531 3.039059 -6.999178;a:-0.0007723523 0.002185688 0.05925935;t:1;s:0;d:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>s:-1;z:0;e:21.25905;p:72.75201 41.78825 -102.6277;r:339.6386 111.2901 358.2515;v:18.38563 7.560412 -7.167981;a:0.07228098 0.03451864 0.2204491;t:1;d:0>z:0>z:0>z:0>z:0>z:0>d:1>>>s:0>d:0;z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0;e:21.06912;p:92.04591 45.5141 -107.1067;r:359.5412 100.368 0.04814231;v:19.3525 -3.499663 -3.544845;a:-0.04597944 -1.231584E-07 -0.1566548;t:1;s:0;d:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0;e:21.05576;p:110.9555 33.84793 -110.5473;r:1.572545 100.3659 359.835;v:20.99797 -1.821293 -3.152927;a:-0.0007191774 -1.926355E-09 -0.002450282;t:1;s:0;d:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>s:-1;z:0>z:0>z:0>z:0>z:0>z:0>s:0;z:0>z:0>z:0>z:0;e:25.55477;p:136.8707 32.47843 -115.1094;r:4.55999 96.5714 0.5369214;v:25.48744 -0.7689769 -3.129601;a:-0.03353909 -0.3237444 -0.002691464;t:1;s:0;d:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>s:-1;z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>s:0;z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0;e:23.40105;p:160.525 33.12606 -115.5543;r:359.9862 81.6525 0.3126819;v:23.22458 2.754121 3.279726;a:-0.01018256 -0.2448954 0.1406372;t:1;s:0;d:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0;e:22.08238;p:181.8538 36.58915 -111.4448;r:353.6282 78.49932 1.58558;v:21.19911 5.001674 4.393518;a:0.002640785 -0.004186196 0.1258058;t:1;s:0;d:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>s:-1;z:0>d:1>>>>>s:0>>s:1>>>>>>>>>>>>>>>>>>>>e:21.27499;p:201.0948 40.50556 -104.563;r:353.3415 54.48109 8.115523;v:17.27884 2.789252 12.03713;a:0.1837642 -0.6224485 -0.03589653;t:1;s:1;d:1;z:-1>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>e:20.78065;p:213.1733 42.23866 -88.46806;r:0.2470025 19.02189 8.262265;v:6.896952 0.8706995 19.61753;a:0.02470233 -0.6280743 -0.165567;t:1;s:1;d:1;z:-1>>>>>>>>>>>>>>>>>>>s:0>d:0;z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>s:1;z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0;e:28;p:214.1454 43.0033 -65.60247;r:0.5391974 354.859 0.7410681;v:-2.805134 1.710293 27.88783;a:-0.1099167 0.3691959 -0.08592067;t:1;s:1;d:0>z:0>z:0>z:0>z:0>z:0>z:0>s:0;z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>s:-1;z:0>z:0>z:0>z:0>z:0>z:0>z:0>s:0;z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0;e:24.96021;p:216.7996 45.45419 -40.26061;r:357.0013 6.590925 0.8731451;v:2.917489 2.022691 24.75703;a:0.0274363 -0.1176208 0.003851522;t:1;s:0;d:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0;e:23.03702;p:219.0434 45.59563 -16.87628;r:1.946868 5.182002 1.05831;v:2.088267 -1.501248 22.95849;a:0.1296329 -0.0008121423 0.02620975;t:1;s:0;d:0>z:0>z:0>z:0>z:0>s:-1;z:0>z:0>z:0>d:1>>>>>>>s:0>s:1>>>>>>>>>>>>>>>>>>>>>>>e:21.85949;p:216.433 42.84695 4.640825;r:10.09806 334.821 0.01000129;v:-8.938298 -3.012292 19.84539;a:0.08850612 -0.6362544 -0.09923156;t:1;s:1;d:1;z:-1>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>d:0;z:0;e:21.13852;p:202.4778 40.32521 19.69994;r:8.242218 298.15 354.1747;v:-18.41387 -1.942617 10.41895;a:0.08519987 -0.6325492 -0.1229733;t:1;s:1>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>s:0;z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0;e:20.69709;p:185.997 38.74369 31.02345;r:8.268892 323.5911 353.207;v:-12.34528 -1.781051 16.64928;a:0.04178362 0.4815763 -0.03742793;t:1;s:0;d:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>s:-1;z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0;e:20.42682;p:174.7485 36.90001 47.47584;r:4.723198 310.4915 348.9914;v:-15.07406 -1.017273 13.83413;a:-0.06350894 -0.9755601 -0.2103547;t:1;s:-1;d:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>s:0;z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0;e:20.26133;p:156.3736 36.21931 54.62416;r:2.536284 282.5406 349.6828;v:-19.75617 -1.350512 4.415772;a:-0.01082602 -0.07004992 0.09934317;t:1;s:0;d:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>s:1;z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0;e:20.16001;p:137.3441 34.15611 59.90409;r:11.48925 301.9248 354.6333;v:-17.08714 -3.945302 10.11413;a:-0.1052948 0.9348966 0.3389415;t:1;s:1;d:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>s:0;z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>s:-1;z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>s:0;z:0>z:0>z:0>z:0;e:20.09797;p:124.8448 30.90867 74.53716;r:10.26442 319.4612 0.2605378;v:-12.90194 -2.108437 15.4512;a:-0.07964375 -0.4848209 -0.1549905;t:1;s:0;d:0>z:0>z:0>z:0>z:0>s:-1;z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>s:0;z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>s:-1;z:0>z:0>z:0>z:0>z:0>z:0>s:0;z:0>z:0;e:20.05999;p:108.7997 29.90857 84.91657;r:3.840308 286.5131 358.0753;v:-19.2052 0.1242884 6.089913;a:-0.05154956 -0.6237573 -0.08573318;t:1;s:0;d:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0;e:20.03673;p:89.7331 31.14154 88.34805;r:358.2932 278.6562 1.337804;v:-19.7381 3.066266 2.946406;a:-0.09532411 -0.01244708 -0.1858778;t:1;s:0;d:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0;e:20.02249;p:71.10005 33.09626 91.21673;r:347.52 278.597 359.5371;v:-18.87894 6.134172 2.883452;a:-0.09551868 -0.01850736 -0.6704015;t:1;s:0;d:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>d:1;z:0>z:0>z:0>z:0>z:0>z:0>z:0>d:0;z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0;e:20.01726;p:52.39187 37.17962 93.96922;r:357.6343 278.3072 359.9434;v:-18.88758 -1.619868 2.755542;a:0.03019947 -1.027053E-06 0.2482567;t:1;s:0;d:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0;e:27.41844;p:31.02169 34.34779 97.14778;r:358.2433 278.334 358.6925;v:-27.13373 2.817149 4.026963;a:0.03700493 0.0003252233 -0.08519138;t:1;s:0;d:0>s:-1;z:0>z:0>z:0>z:0>z:0>s:0;z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0>z:0";

    public void Start()
    {
        gd = FindObjectOfType<CurrentGameData>();
        km = FindObjectOfType<KartMaker>();
        sm = FindObjectOfType<SoundManager>();

        sm.PlayMusic(music);
       
        /*Debug
        List<Racer> test = new List<Racer>();

        for(int i = 0; i < 12; i++)
        {
            test.Add(new Racer(-1, 0, Random.Range(0, gd.characters.Length), 0, Random.Range(0, gd.karts.Length), Random.Range(0, gd.wheels.Length), i));
        }

        DoWinScreen(test);*/
    }


    public void DoWinScreen(List<Racer> _racers)
    {
        List<Racer> racers = new List<Racer>(_racers);
        winners = new List<Racer>();

        //Find Winners
        if (racers.Count > 3)
        {
            while (winners.Count < 3)
            {
                Racer bestRacer = racers[0];

                for (int i = 1; i < racers.Count; i++)
                {
                    if (racers[i].overallPosition < bestRacer.overallPosition)
                    {
                        bestRacer = racers[i];
                    }
                }

                winners.Add(bestRacer);
                racers.Remove(bestRacer);
            }
        }

        //Find Audience
        audiemce = racers;

        //Spawn Three Winners as Kart
        for(int i = 0; i < winners.Count; i++)
        {
            Racer racer = winners[i];
            racer.ingameObj = km.SpawnKart(KartType.Replay, kartSpawns[i].position, kartSpawns[i].rotation,
                racer.character, racer.hat, racer.kart, racer.wheel);
            racer.ingameObj.GetComponent<KartMovement>().locked = false;

            //Find Replay 
            string data = playerOneReplay;

            if (i == 1)
                data = playerTwoReplay;
            if (i == 2)
                data = playerThreeReplay;

            KartReplayer kr = racer.ingameObj.GetComponent<KartReplayer>();
            kr.LoadReplay(data);
        }

        //Spawn Audience
        for (int i = 0; i < audiemce.Count; i++)
        {
            Transform character = Instantiate(gd.characters[audiemce[i].character].CharacterModel_Standing, audienceSpawns[i].position, audienceSpawns[i].rotation);
            character.GetComponent<Animator>().SetBool("Clap", true);
        }

        //Fade Out
        CurrentGameData.blackOut = false;
        transform.position = clips[0].startPoint;
        transform.rotation = Quaternion.Euler(clips[0].startRotation);


        StartCoroutine(DoCutscene());
    }

    private IEnumerator DoCutscene()
    {
        yield return null;

        //Play Replay
        for (int i = winners.Count - 1; i >= 0; i--)
        {
            if (i == 0)
                yield return new WaitForSeconds(0.2f);

            winners[i].ingameObj.GetComponent<KartReplayer>().Play();
        }

        for (int i = 0; i < clips.Count; i++)
        {
            if(i == clips.Count -1)
            {
                //Kill Racers and Spawn Final
                int count = 0;
                foreach(Racer winner in winners)
                {
                    Destroy(winner.ingameObj.gameObject);

                    Transform character = Instantiate(gd.characters[winner.character].CharacterModel_Standing, winnerSpawns[count].position, winnerSpawns[count].rotation);
                    character.GetComponent<Animator>().SetBool("Clap", true);

                    count++;
                }
            }

            yield return PlayClip(clips[i]);
        }

    }

    private IEnumerator PlayClip(CameraPoint clip)
    {
        float startTime = Time.time;
        while(Time.time - startTime < clip.travelTime)
        {
            transform.position = Vector3.Lerp(clip.startPoint, clip.endPoint, (Time.time - startTime) / clip.travelTime);
            transform.rotation = Quaternion.Euler(Vector3.Lerp(clip.startRotation, clip.endRotation, (Time.time - startTime) / clip.travelTime));
            yield return null;
        }

        transform.position = clip.endPoint;
        transform.rotation = Quaternion.Euler(clip.endRotation);
    }

    public void Update()
    {

    }
	
}
